<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RÃ©munÃ©ration & Temps de travail â€” Fiche interactive</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #121a33;
      --text: #eaf0ff;
      --muted: #a9b5d1;
      --accent: #7aa2ff;
      --accent-2: #3dd6a5;
      --danger: #ff6b6b;
      --ring: #2a3b7a;
    }
    [data-theme="light"] {
      --bg: #f7f9ff;
      --panel: #ffffff;
      --text: #141a2d;
      --muted: #51607d;
      --accent: #2d5bff;
      --accent-2: #0bb885;
      --danger: #d43b3b;
      --ring: #dfe6ff;
    }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell,
        Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      display: grid;
      grid-template-rows: 64px 1fr;
    }
    /* Topbar */
    .topbar {
      display: flex; align-items: center; gap: 12px; padding: 12px 16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.05), transparent);
      border-bottom: 1px solid var(--ring);
      backdrop-filter: blur(8px);
      position: sticky; top: 0; z-index: 50;
    }
    .brand { font-weight: 700; letter-spacing: .3px; }
    .top-actions { margin-left: auto; display: flex; gap: 8px; }
    .btn {
      border: 1px solid var(--ring); background: var(--panel); color: var(--text);
      padding: 10px 14px; border-radius: 14px; cursor: pointer; font-weight: 600;
      transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
      box-shadow: 0 6px 16px rgba(0,0,0,.15);
    }
    .btn:hover { transform: translateY(-1px); border-color: var(--accent); }
    .btn:active { transform: translateY(0); }
    .btn-accent { background: linear-gradient(135deg, var(--accent), var(--accent-2)); border: none; color: white; }

    /* Layout */
    .layout { display: grid; grid-template-columns: 280px 1fr; min-height: calc(100vh - 64px); }
    .sidebar {
      border-right: 1px solid var(--ring);
      background: linear-gradient(180deg, rgba(255,255,255,0.04), transparent);
      padding: 16px; position: sticky; top: 64px; height: calc(100vh - 64px);
      overflow: auto;
    }
    .search { display: flex; align-items: center; gap: 8px; }
    .search input {
      width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid var(--ring);
      background: var(--panel); color: var(--text);
    }
    .toc { margin-top: 16px; display: grid; gap: 6px; }
    .toc a {
      display: block; text-decoration: none; color: var(--muted); padding: 8px 10px; border-radius: 10px;
    }
    .toc a:hover, .toc a.active { color: var(--text); background: rgba(122,162,255,.12); }

    .content { padding: 28px; display: grid; gap: 18px; }

    /* Card / section */
    .card {
      background: linear-gradient(180deg, var(--panel), transparent 180%);
      border: 1px solid var(--ring);
      border-radius: 18px; padding: 20px 18px; box-shadow: 0 10px 24px rgba(0,0,0,.15);
    }
    .h1 { font-size: clamp(22px, 4vw, 32px); margin: 4px 0 8px; }
    .h2 { font-size: clamp(18px, 3vw, 24px); margin: 0 0 6px; }
    .muted { color: var(--muted); }

    details { border: 1px dashed var(--ring); border-radius: 14px; padding: 12px 14px; }
    summary { cursor: pointer; font-weight: 700; }
    .kpi {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; margin: 8px 0 6px;
    }
    .kpi .k { background: var(--panel); border: 1px solid var(--ring); border-radius: 14px; padding: 12px; }
    .badge { font-size: 12px; padding: 2px 8px; border-radius: 999px; border: 1px solid var(--ring); }

    .footer { opacity: .7; font-size: 12px; padding-top: 10px; }

    /* Print */
    @media print {
      .sidebar, .topbar, .top-actions { display: none !important; }
      body { background: white; color: black; }
      .card { box-shadow: none; border-color: #ccc; }
    }
    /* Badges & helpers */
    .chip {display:inline-block;padding:4px 10px;border-radius:999px;border:1px solid var(--ring);font-size:12px;margin-right:6px}
    .ok{background:rgba(61,214,165,.14);border-color:var(--accent-2)}
    .warn{background:rgba(255,107,107,.14);border-color:var(--danger)}
    .info{background:rgba(122,162,255,.14);border-color:var(--accent)}
    .grid{display:grid;gap:12px}
    .two{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .field{display:grid;gap:6px}
    .field input,.field select{padding:10px 12px;border-radius:12px;border:1px solid var(--ring);background:var(--panel);color:var(--text)}
    .result{font-weight:800;font-size:22px;margin-top:6px}
    .hl{padding:6px 10px;border-radius:10px}
    .hl-blue{background:rgba(122,162,255,.14);border:1px solid var(--accent)}
    .hl-green{background:rgba(61,214,165,.14);border:1px solid var(--accent-2)}
    .hl-red{background:rgba(255,107,107,.14);border:1px solid var(--danger)}
  </style>
</head>
<body>
  <header class="topbar">
    <div class="brand">ğŸ’¼ RÃ©munÃ©ration & Temps de travail â€” Fiche interactive</div>
    <div class="top-actions">
      <button class="btn" id="themeToggle" aria-pressed="false" title="Basculer clair/sombre">ğŸŒ— ThÃ¨me</button>
      <button class="btn" onclick="window.print()" title="Imprimer ou exporter en PDF">ğŸ–¨ï¸ Imprimer</button>
      <button class="btn btn-accent" id="exportJson" title="Exporter le contenu au format JSON">â¤´ï¸ Export JSON</button>
    </div>
  </header>
  <div class="layout">
    <aside class="sidebar">
      <label class="search" for="q">
        ğŸ” <input id="q" type="search" placeholder="Rechercher une notion (ex: congÃ©s, SMIC, HS)â€¦" />
      </label>
      <nav class="toc" id="toc">
        <a href="#intro" class="active">Introduction</a>
        <a href="#salaire-base">Salaire de base & SMIC</a>
        <a href="#conges-payes">CongÃ©s payÃ©s</a>
        <a href="#heures-sup">Heures supplÃ©mentaires</a>
        <a href="#exos-hs">Exercices HS</a>
        <a href="#heures-compl">Heures complÃ©mentaires</a>
        <a href="#exos-hc">Exercices HC</a>
        <a href="#quiz">Quiz rapide</a>
        <a href="#avantages-nature">Avantages en nature</a>
        <a href="#temps-effectif">Temps de travail effectif</a>
      </nav>
    </aside>

    <main class="content" id="content">
      <section id="intro" class="card" data-tags="intro structure mÃ©thode">
        <h1 class="h1">Bienvenue ğŸ‘‹</h1>
        <p class="muted">Ce document HTML/CSS/JS est un <strong>template interactif</strong> pour synthÃ©tiser un cours sur la rÃ©munÃ©ration brute et le temps de travail. Il fonctionne hors-ligne, sâ€™imprime proprement et propose recherche, sommaire et export.</p>
        <div class="kpi">
          <div class="k"><div class="muted">DurÃ©e lÃ©gale (hebdo)</div><div class="h2">35 h</div></div>
          <div class="k"><div class="muted">Mensualisation (35 h)</div><div class="h2">151,67 h</div></div>
          <div class="k"><div class="muted">Semaines de CP</div><div class="h2">5 sem.</div></div>
        </div>
        <details>
          <summary>Comment utiliser</summary>
          <ul>
            <li>ğŸ—‚ï¸ Naviguez via le sommaire Ã  gauche ;</li>
            <li>ğŸ” Tapez un mot-clÃ© pour filtrer les sections ;</li>
            <li>ğŸ–¨ï¸ Imprimez (ou exportez en PDF) avec le bouton en haut ;</li>
            <li>ğŸŒ— Changez de thÃ¨me clair/sombre ;</li>
            <li>â¤´ï¸ Exportez le contenu au format JSON pour rÃ©utilisation.</li>
          </ul>
        </details>
      </section>

      <section id="salaire-base" class="card" data-tags="smic salaire base mensualisation minimum grilles">
        <h2 class="h1">Salaire de base & SMIC</h2>
        <p>
          Le salaire de base se calcule souvent via lâ€™horaire mensuel moyenÂ :<br/>
          <code>Horaire mensuel = durÃ©e hebdo Ã— 52 / 12</code> (pour 35Â hÂ â†’Â 151,67Â h). Le respect du salaire minimum se vÃ©rifie au regard du <em>SMIC</em> ou du minimum conventionnel.
        </p>
        <details>
          <summary>Ã€ retenir</summary>
          <ul>
            <li>Le salaire peut Ãªtre fixe, Ã  la tÃ¢che, ou avec part variable (commissions, etc.).</li>
            <li>Certains Ã©lÃ©ments comptent pour vÃ©rifier le minimum (exÂ : avantages en nature selon rÃ¨gles), dâ€™autres non.</li>
          </ul>
        </details>
      </section>

      <section id="conges-payes" class="card" data-tags="congÃ©s payÃ©s acquisition pÃ©riode rÃ©fÃ©rence maintien dixiÃ¨me indemnitÃ©">
        <h2 class="h1">CongÃ©s payÃ©s (acquisition & indemnitÃ©)</h2>
        <p>
          Droits acquis sur une pÃ©riode de rÃ©fÃ©rence (souvent 1erÂ juinÂ Nâ€‘1Â â†’Â 31Â maiÂ N). Tout salariÃ© bÃ©nÃ©ficie de <strong>5Â semaines</strong> (30Â ouvrables ou 25Â ouvrÃ©s) par an. Certaines pÃ©riodes dâ€™absence sont assimilÃ©es Ã  du travail effectif pour lâ€™acquisition.
        </p>
        <details>
          <summary>IndemnitÃ© de CPÂ â€” deux mÃ©thodes</summary>
          <ol>
            <li><strong>10áµ‰</strong>Â : 10Â % de la rÃ©munÃ©ration brute de rÃ©fÃ©rence.</li>
            <li><strong>Maintien</strong>Â : ce que le salariÃ© aurait perÃ§u sâ€™il avait travaillÃ© (retenue pour absence en miroir).</li>
          </ol>
          <p>On retient <em>la plus favorable</em> pour le salariÃ©.</p>
        </details>
      </section>

      <section id="heures-sup" class="card" data-tags="heures supplÃ©mentaires majorations 25% 50% contingent repos congÃ©s payÃ©s jurisprudence 2025">
        <h2 class="h1">Heures supplÃ©mentaires <span class="chip info">âš–ï¸ MAJ 2025</span></h2>
        <p>
          Heures auâ€‘delÃ  de la durÃ©e lÃ©gale (35Â h/semaine), en principe Ã  la demande de lâ€™employeur. Majorations usuellesÂ : <strong>25Â %</strong> de la 36áµ‰ Ã  la 43áµ‰ heure, puis <strong>50Â %</strong> (sauf dispositions conventionnelles plus favorables).
        </p>
        <p class="hl hl-blue">ğŸ†• Depuis un arrÃªt de la Cour de cassation (10Â septembreÂ 2025), <strong>les jours de congÃ©s payÃ©s posÃ©s dans la semaine sont assimilÃ©s Ã  du temps de travail</strong> pour apprÃ©cier le seuil de dÃ©clenchement des heures supplÃ©mentaires. ConcrÃ¨tementÂ : on compare la somme <em>heures rÃ©ellement travaillÃ©es + heures de congÃ© (au rythme habituel)</em> au seuil des 35Â h.</p>
        <details>
          <summary>Conversions utiles</summary>
          <p><code>centiÃ¨mes dâ€™heure = minutes / 60</code> Â· exÂ : 15Â min â†’ 0,25Â h Â· 30Â min â†’ 0,50Â h</p>
        </details>
      </section>

      <section id="heures-compl" class="card" data-tags="temps partiel heures complÃ©mentaires 1/10 1/3 majorations limite semaine">
        <h2 class="h1">Heures complÃ©mentaires (temps partiel) <span class="chip info">ğŸ§© Rappel</span></h2>
        <p>
          Heures auâ€‘delÃ  de la durÃ©e contractuelle du temps partiel, sans atteindre la durÃ©e lÃ©gale. Plafond par dÃ©fautÂ : <strong>+10Â %</strong> de lâ€™horaire contractuel (pouvant aller jusquâ€™Ã  <strong>1/3</strong> via accord). MajorationsÂ : <strong>+10Â %</strong> dans la limite du 1/10áµ‰, puis <strong>+25Â %</strong> auâ€‘delÃ  (et dans la limite de 1/3).</p>
        <p class="hl hl-green">ğŸ’¡ AstuceÂ : pensez <em>contrat dâ€™abord</em> (HC), <em>loi ensuite</em> (HS). Les HC ne transforment pas le contrat en temps plein et ne donnent pas droit au repos comp. obligatoire.</p>
      </section>

      <section id="avantages-nature" class="card" data-tags="avantages en nature logement vÃ©hicule repas tic Ã©valuation cotisations">
        <h2 class="h1">Avantages en nature</h2>
        <p>
          Biens ou services fournis pour un usage personnel (logement, vÃ©hicule, repas, TICâ€¦). Constituent un <em>Ã©lÃ©ment de rÃ©munÃ©ration</em>Â : intÃ©grÃ©s au brut, soumis Ã  cotisations et imposables. Ã‰valuation forfaitaire ou au rÃ©el selon lâ€™avantage et le cadre.
        </p>
      </section>

      <section id="temps-effectif" class="card" data-tags="temps de travail effectif repos pauses astreinte dÃ©placements jours fÃ©riÃ©s rtt">
        <h2 class="h1">Temps de travail effectif</h2>
        <p>
          PÃ©riode oÃ¹ le salariÃ© est Ã  la disposition de lâ€™employeur et se conforme Ã  ses directives sans pouvoir vaquer librement. Sert au calcul des HS et au respect des plafonds (10Â h/j, 48Â h/sem., 44Â h en moyenne sur 12Â sem.). AttentionÂ : la notion pour lâ€™acquisition des CP peut inclure certaines absences.
        </p>
        <details>
          <summary>Repos & cas particuliers</summary>
          <ul>
            <li>Repos quotidienÂ : 11Â h Â· Repos hebdoÂ : 24Â h + 11Â h = 35Â h.</li>
            <li>Pauses, habillage, astreinte, dÃ©placementsÂ : traitement variable selon conditions.</li>
          </ul>
        </details>
      </section>

      <section id="exos-hs" class="card" data-tags="exercices heures supplÃ©mentaires calcul simulateur congÃ©s payÃ©s">
        <h2 class="h1">ğŸ§ª Exercices & simulateur â€” Heures supplÃ©mentaires</h2>
        <div class="grid two">
          <div class="field"><label>Heures <strong>travaillÃ©es</strong> dans la semaine</label><input id="hs_trav" type="number" min="0" step="0.01" placeholder="exÂ : 28"/></div>
          <div class="field"><label>Jours de <strong>congÃ©s payÃ©s</strong> posÃ©s dans la semaine</label><input id="hs_cp_j" type="number" min="0" max="6" step="1" placeholder="exÂ : 2"/></div>
          <div class="field"><label>Heures <strong>par jour</strong> habituel (planning)</label><input id="hs_hpd" type="number" min="0" step="0.01" placeholder="exÂ : 7"/></div>
          <div class="field"><label>Seuil hebdo (par dÃ©fautÂ 35Â h)</label><input id="hs_seuil" type="number" min="0" step="0.01" value="35"/></div>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <button class="btn btn-accent" id="calcHS">ğŸš€ Calculer</button>
          <span class="muted">PrincipeÂ : HS = max(0, (heures travaillÃ©es + jours CP Ã— heures/jour) âˆ’ seuil).</span>
        </div>
        <div id="hs_out" class="result"></div>
        <div id="hs_breakdown" class="muted"></div>
        <details style="margin-top:10px"><summary>Exemple guidÃ©</summary>
          <p>SalariÃ©e 35Â h, travaille 3Â jours (21Â h) et pose 2Â CP (2Â Ã—Â 7Â hÂ =Â 14Â h) â†’ total 35Â hÂ : <strong>0Â HS</strong>. Si elle travaille 4Â jours (28Â h) + 2Â CP (14Â h) â†’ 42Â h, donc <strong>7Â HS</strong>Â : 7Â Ã—Â 25Â %.</p>
        </details>
      </section>

      <section id="exos-hc" class="card" data-tags="exercices heures complÃ©mentaires simulateur temps partiel">
        <h2 class="h1">ğŸ§ª Exercices & simulateur â€” Heures complÃ©mentaires</h2>
        <div class="grid two">
          <div class="field"><label>Horaire <strong>contractuel</strong> (hebdo)</label><input id="hc_contract" type="number" min="1" step="0.01" placeholder="exÂ : 24"/></div>
          <div class="field"><label>Heures <strong>rÃ©alisÃ©es</strong> dans la semaine</label><input id="hc_real" type="number" min="0" step="0.01" placeholder="exÂ : 28"/></div>
          <div class="field"><label>Accord portant la limite Ã  <strong>1/3</strong>Â ?</label>
            <select id="hc_one_third"><option value="non">Non</option><option value="oui">Oui</option></select>
          </div>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
          <button class="btn btn-accent" id="calcHC">ğŸš€ Calculer</button>
          <span class="muted">MajorationÂ : +10Â % jusquâ€™Ã  1/10áµ‰, puis +25Â % jusquâ€™Ã  1/3 si accord.</span>
        </div>
        <div id="hc_out" class="result"></div>
        <div id="hc_breakdown" class="muted"></div>
        <details style="margin-top:10px"><summary>Exemple guidÃ©</summary>
          <p>Contrat 20Â h, accord 1/3, semaine Ã  26Â h â†’ 6Â HCÂ : 2Â h Ã  +10Â % (1/10Â =Â 2Â h) puis 4Â h Ã  +25Â %.</p>
        </details>
      </section>

      <section id="quiz" class="card" data-tags="quiz entrainement heures supplÃ©mentaires complÃ©mentaires">
        <h2 class="h1">ğŸ¯ Quiz Ã©clair</h2>
        <ol id="quizList" style="line-height:1.7">
          <li>SalariÃ©e 35Â hÂ : 3Â jours travaillÃ©s (21Â h) + 1Â jour CP (7Â h) + 1Â jour travaillÃ© (7Â h). Y aâ€‘tâ€‘il des heures supplÃ©mentairesÂ ?<br/>
            <div>
              <button class="btn" data-q="1" data-a="oui">Oui</button>
              <button class="btn" data-q="1" data-a="non">Non</button>
              <span class="chip" id="q1"></span>
            </div>
          </li>
          <li>Contrat 24Â h. Elle fait 27Â h. Sans accord 1/3, quelles majorationsÂ ?<br/>
            <div>
              <button class="btn" data-q="2" data-a="10">Tout Ã  +10Â %</button>
              <button class="btn" data-q="2" data-a="mix">1/10áµ‰ Ã  +10Â %, reste Ã  +25Â %</button>
              <span class="chip" id="q2"></span>
            </div>
          </li>
        </ol>
      </section>

      <section class="card" id="bloc-notes" data-tags="notes brouillon rÃ©vision">
        <h2 class="h1">Bloc-notes ğŸ“</h2>
        <p class="muted">Vos points clÃ©s, formules et piÃ¨ges Ã  Ã©viter.</p>
        <textarea id="notes" rows="8" style="width:100%; border-radius:12px; padding:12px; border:1px solid var(--ring); background:var(--panel); color:var(--text);"></textarea>
        <div style="display:flex; gap:8px; margin-top:8px;">
          <button class="btn" id="saveNotes">ğŸ’¾ Sauvegarder</button>
          <span id="saved" class="muted" aria-live="polite"></span>
        </div>
      </section>

      <footer class="footer">
        <span>Gabarit pÃ©dagogique HTML/CSS/JS â€” vous pouvez adapter librement ce fichier Ã  votre cours.</span>
      </footer>
    </main>
  </div>

  <script>
    // Theme toggle (light/dark)
    const root = document.documentElement;
    const themeBtn = document.getElementById('themeToggle');
    const storedTheme = localStorage.getItem('theme');
    if (storedTheme) document.documentElement.setAttribute('data-theme', storedTheme);
    themeBtn?.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme') || 'dark';
      const next = current === 'light' ? 'dark' : 'light';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      themeBtn.setAttribute('aria-pressed', String(next === 'light'));
    });

    // TOC active on scroll
    const tocLinks = [...document.querySelectorAll('#toc a')];
    const sections = tocLinks.map(a => document.querySelector(a.getAttribute('href')));
    const onScroll = () => {
      const y = window.scrollY + 90;
      let activeIndex = 0;
      sections.forEach((sec, i) => { if (sec && sec.offsetTop <= y) activeIndex = i; });
      tocLinks.forEach((a, i) => a.classList.toggle('active', i === activeIndex));
    }
    document.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // Search filter
    const q = document.getElementById('q');
    q?.addEventListener('input', (e) => {
      const term = e.target.value.toLowerCase().trim();
      document.querySelectorAll('main .card').forEach(card => {
        const tags = (card.getAttribute('data-tags') || '').toLowerCase();
        const text = card.textContent.toLowerCase();
        const hit = !term || tags.includes(term) || text.includes(term);
        card.style.display = hit ? '' : 'none';
      });
    });

    // Notes localStorage
    const notes = document.getElementById('notes');
    const savedLbl = document.getElementById('saved');
    const key = 'fiche-notes';
    notes.value = localStorage.getItem(key) || '';
    document.getElementById('saveNotes')?.addEventListener('click', () => {
      localStorage.setItem(key, notes.value);
      savedLbl.textContent = 'NotÃ© âœ”ï¸';
      setTimeout(() => savedLbl.textContent = '', 1200);
    });

    // Simple JSON export (content-only)
    document.getElementById('exportJson')?.addEventListener('click', () => {
      const data = [...document.querySelectorAll('main .card')].map(sec => ({
        id: sec.id,
        title: sec.querySelector('.h1')?.textContent?.trim(),
        text: sec.innerText.trim()
      }));
      const blob = new Blob([JSON.stringify({ exportedAt: new Date().toISOString(), data }, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'fiche-remuneration-temps-travail.json';
      a.click(); URL.revokeObjectURL(url);
    });
      // === Simulateur HS (avec CP assimilÃ©) ===
    const hsTrav = document.getElementById('hs_trav');
    const hsCPJ = document.getElementById('hs_cp_j');
    const hsHPD = document.getElementById('hs_hpd');
    const hsSeuil = document.getElementById('hs_seuil');
    const hsOut = document.getElementById('hs_out');
    const hsBreak = document.getElementById('hs_breakdown');
    document.getElementById('calcHS')?.addEventListener('click', () => {
      const t = parseFloat(hsTrav.value||'0');
      const j = parseFloat(hsCPJ.value||'0');
      const hpd = parseFloat(hsHPD.value||'0');
      const seuil = parseFloat(hsSeuil.value||'35');
      const assimil = t + j*hpd;
      const hs = Math.max(0, assimil - seuil);
      const hs25 = Math.min(hs, 8);
      const hs50 = Math.max(0, hs - 8);
      hsOut.textContent = `ğŸ” Total pris en compte = ${assimil.toFixed(2)} h â†’ HS = ${hs.toFixed(2)} h (25%: ${hs25.toFixed(2)} h, 50%: ${hs50.toFixed(2)} h)`;
      hsBreak.innerHTML = assimil>=seuil ? `<span class='chip ok'>âœ… Seuil dÃ©passÃ©</span> Pensez aux contreparties (repos/contingent).` : `<span class='chip warn'>â„¹ï¸ Pas de HS</span> Total < seuil.`;
    });

    // === Simulateur HC (temps partiel) ===
    const hcC = document.getElementById('hc_contract');
    const hcR = document.getElementById('hc_real');
    const hcOneThird = document.getElementById('hc_one_third');
    const hcOut = document.getElementById('hc_out');
    const hcBreak = document.getElementById('hc_breakdown');
    document.getElementById('calcHC')?.addEventListener('click', () => {
      const c = parseFloat(hcC.value||'0');
      const r = parseFloat(hcR.value||'0');
      const max10 = c*0.1;
      const max33 = c*(1/3);
      const accord = hcOneThird.value==='oui';
      const extra = Math.max(0, r - c);
      if (extra===0) { hcOut.textContent = '0 h HC'; hcBreak.textContent=''; return; }
      const cap = accord ? max33 : max10;
      if (extra>cap+1e-9) {
        hcOut.textContent = `â— Dans ce cadre, ${extra.toFixed(2)} h dÃ©passent le plafond autorisÃ© (${cap.toFixed(2)} h).`;
        hcBreak.textContent = 'Ajuster la planification ou appliquer un autre dispositif.';
        return;
      }
      const hc10 = Math.min(extra, max10);
      const hc25 = Math.max(0, extra - max10);
      hcOut.textContent = `HC = ${extra.toFixed(2)} h â†’ +10%: ${hc10.toFixed(2)} h${accord?`, +25%: ${hc25.toFixed(2)} h`: hc25>0?`, âš ï¸ au-delÃ  du 1/10áµ‰ non autorisÃ© sans accord`:''}`;
      hcBreak.innerHTML = `<span class='chip ok'>${hc10.toFixed(2)} h Ã  +10%</span>` + (hc25>0? ` <span class='chip ok'>${hc25.toFixed(2)} h Ã  +25%</span>`: '');
    });

    // === Quiz ===
    const answers = {
      1: 'oui', // 21+7+7 = 35, exactement le seuil â†’ 0 HS ? En rÃ¨gle stricte, 35 = 0 HS. Mais la plupart rÃ©pondent "non". On met "oui" uniquement si un autre jour est dÃ©passÃ©. Corrigeons :
    };
    // correction: question 1 â†’ NON (35 h tout juste)
    answers[1] = 'non';
    answers[2] = 'mix';
    document.querySelectorAll('#quiz button[data-q]')?.forEach(btn=>{
      btn.addEventListener('click', () => {
        const q = btn.getAttribute('data-q');
        const a = btn.getAttribute('data-a');
        const ok = a === String(answers[q]);
        const tag = document.getElementById('q'+q);
        tag.className = 'chip ' + (ok ? 'ok' : 'warn');
        tag.textContent = ok ? 'âœ… Correct' : 'âŒ Essaie encore';
      })
    });
  </script>
</body>
</html>
